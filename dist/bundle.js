!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.avmoptimizer=t():e.avmoptimizer=t()}(window,function(){return function(e){var t={};function s(n){if(t[n])return t[n].exports;var h=t[n]={i:n,l:!1,exports:{}};return e[n].call(h.exports,h,h.exports,s),h.l=!0,h.exports}return s.m=e,s.c=t,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var h in e)s.d(n,h,function(t){return e[t]}.bind(null,h));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s(s.s=0)}([function(e,t,s){const n=s(1).AvmOptimizer;e.exports={AvmOptimizer:n}},function(e,t,s){!function(t){"use strict";function s(e,t,s="",n="",h=0,r={}){this.hexcode=e,this.opname=t,this.comment=s,this.args=n,this.objargs=r,this.size=1+n.length/2,this.byteline=h}function n(){}s._construct=function(e,t,n="",h="",r=0,u={}){return new s(e,t,n,h,r,u)},n._construct=function(){return new n},n.byteArray2ToInt16=function(e){return 2!=e.length?0:(e[0]<<8|e[1])<<16>>16},n.int16ToByteArray2=function(e){for(var t=(e>>>0).toString(16);t.length<4;)t="0"+t;for(;t.length>4;)t=t.substr(1,t.length);for(var s=[];s.length<2;)s.push(Number("0x"+t[0]+t[1])),t=t.substr(2,t.length);return s},n.littleHexStringToBigByteArray=function(e){if(4!=e.length)return[];for(var t=[];e.length>0;)t.push(Number("0x"+e[0]+e[1])),e=e.substr(2,e.length);return t.reverse(),t},n.bigByteArray2TolittleHexString=function(e){if(2!=e.length)return"";var t="",s=0;for(s=0;s<e.length;s++){var n=e[s].toString(16);1==n.length&&(n="0"+n),t=n+t}return t},n.getAVMFromList=function(e){var t="",s=0;for(s=0;s<e.length;s++)t+=e[s].hexcode+e[s].args;return t},n.parseOpcodeList=function(e,t,s=0){if(0!=e.length&&e.length%2!=1){var h=""+e[0]+e[1],r=(e=e.substr(2,e.length)).length;e=n.parseOpcode(h,e,t,s),n.parseOpcodeList(e,t,s+(r-e.length)/2)}},n.parseOpcode=function(e,t,n=[],h=0){var r=parseInt(e,16);if("00"==e)n.push(new s(e,"PUSH0","#An empty array of bytes is pushed onto the stack","",h));else if(r>=1&&r<=75){var u="# ",i=0,o="",p="";for(i=0;i<r;i++){var a=""+t[0]+t[1];t=t.substr(2,t.length),o+=a,(b=parseInt(a,16))>=32&&b<=126&&(p+=String.fromCharCode(b))}u+=p,n.push(new s(e,"PUSHBYTES"+r,u,o,h))}else if("4c"==e){var f=0,l=""+t[0]+t[1];t=t.substr(2,t.length),u="#"+(f=parseInt(l,16))+" bytes: ";o="";for(i=0;i<f;i++)o+=""+t[0]+t[1],t=t.substr(2,t.length);u+="# "+f+" bytes pushed onto the stack",n.push(new s(e,"PUSHDATA1",u,o,h))}else if("4d"==e){f=0,l=""+t[0]+t[1];t=t.substr(2,t.length),f=parseInt(l,16),l=""+t[0]+t[1],t=t.substr(2,t.length),u="#"+(f+=256*parseInt(l,16))+" bytes: ";o="";for(i=0;i<f;i++)o+=""+t[0]+t[1],t=t.substr(2,t.length);u+="# "+f+" bytes pushed onto the stack",n.push(new s(e,"PUSHDATA2",u,o,h))}else if("4e"==e){f=0,l=""+t[0]+t[1];t=t.substr(2,t.length),f=parseInt(l,16),l=""+t[0]+t[1],t=t.substr(2,t.length),f+=256*parseInt(l,16),l=""+t[0]+t[1],t=t.substr(2,t.length),f+=65536*parseInt(l,16),l=""+t[0]+t[1],t=t.substr(2,t.length),u="#"+(f+=16777216*parseInt(l,16))+" bytes: ";o="";for(i=0;i<f;i++)o+=""+t[0]+t[1],t=t.substr(2,t.length);u+="# "+f+" bytes pushed onto the stack",n.push(new s(e,"PUSHDATA4",u,o,h))}else if("4f"==e)n.push(new s(e,"PUSHM1","#The number -1 is pushed onto the stack.","",h));else if("51"==e)n.push(new s(e,"PUSH1","# The number 1 is pushed onto the stack.","",h));else if("52"==e)n.push(new s(e,"PUSH2","# The number 2 is pushed onto the stack.","",h));else if("53"==e)n.push(new s(e,"PUSH3","# The number 3 is pushed onto the stack.","",h));else if("54"==e)n.push(new s(e,"PUSH4","# The number 4 is pushed onto the stack.","",h));else if("55"==e)n.push(new s(e,"PUSH5","# The number 5 is pushed onto the stack.","",h));else if("56"==e)n.push(new s(e,"PUSH6","# The number 6 is pushed onto the stack.","",h));else if("57"==e)n.push(new s(e,"PUSH7","# The number 7 is pushed onto the stack.","",h));else if("58"==e)n.push(new s(e,"PUSH8","# The number 8 is pushed onto the stack.","",h));else if("59"==e)n.push(new s(e,"PUSH9","# The number 9 is pushed onto the stack.","",h));else if("5a"==e)n.push(new s(e,"PUSH10","# The number 10 is pushed onto the stack.","",h));else if("5b"==e)n.push(new s(e,"PUSH11","# The number 11 is pushed onto the stack.","",h));else if("5c"==e)n.push(new s(e,"PUSH12","# The number 12 is pushed onto the stack.","",h));else if("5d"==e)n.push(new s(e,"PUSH13","# The number 13 is pushed onto the stack.","",h));else if("5e"==e)n.push(new s(e,"PUSH14","# The number 14 is pushed onto the stack.","",h));else if("5f"==e)n.push(new s(e,"PUSH15","# The number 15 is pushed onto the stack.","",h));else if("60"==e)n.push(new s(e,"PUSH16","# The number 16 is pushed onto the stack.","",h));else if("61"==e)n.push(new s(e,"NOP","# Does nothing."));else if("62"==e){u="# ";var c=""+t[0]+t[1]+t[2]+t[3];t=t.substr(4,t.length),u+=""+NeonOpt.byteArray2ToInt16(NeonOpt.littleHexStringToBigByteArray(c,h)),n.push(new s(e,"JMP",u,c,h))}else if("63"==e){u="# ";c=""+t[0]+t[1]+t[2]+t[3];t=t.substr(4,t.length),u+=""+NeonOpt.byteArray2ToInt16(NeonOpt.littleHexStringToBigByteArray(c,h)),n.push(new s(e,"JMPIF",u,c,h))}else if("64"==e){u="# ";c=""+t[0]+t[1]+t[2]+t[3];t=t.substr(4,t.length),u+=""+NeonOpt.byteArray2ToInt16(NeonOpt.littleHexStringToBigByteArray(c,h)),n.push(new s(e,"JMPIFNOT",u,c,h))}else if("65"==e){u="# ";c=""+t[0]+t[1]+t[2]+t[3];t=t.substr(4,t.length),u+=""+NeonOpt.byteArray2ToInt16(NeonOpt.littleHexStringToBigByteArray(c,h)),n.push(new s(e,"CALL",u,c,h))}else if("66"==e)n.push(new s(e,"RET","#","",h));else if("68"==e){u="# ",o=c=""+t[0]+t[1],t=t.substr(2,t.length);var w=parseInt(c,16);p="",i=0;for(i=0;i<w;i++){var b;a=""+t[0]+t[1];t=t.substr(2,t.length),o+=a,(b=parseInt(a,16))>=32&&b<=126&&(p+=String.fromCharCode(b))}u+=p,n.push(new s(e,"SYSCALL",u,o,h))}else if("67"==e||"69"==e){var d="";"69"==e&&(d="TAILCALL"),"67"==e&&(d="APPCALL");var g="";for(i=0;i<20;i++){var T=""+t[0]+t[1];t=t.substr(2,t.length),g+=T}n.push(new s(e,d,u,g,h))}else"6a"==e?n.push(new s(e,"DUPFROMALTSTACK","#","",h)):"6b"==e?n.push(new s(e,"TOALTSTACK","# Puts the input onto the top of the alt stack. Removes it from the main stack.","",h)):"6c"==e?n.push(new s(e,"FROMALTSTACK","# Puts the input onto the top of the main stack. Removes it from the alt stack.","",h)):"6d"==e?n.push(new s(e,"XDROP","#","",h)):"72"==e?n.push(new s(e,"XSWAP","#","",h)):"73"==e?n.push(new s(e,"XTUCK","#","",h)):"74"==e?n.push(new s(e,"DEPTH","# Puts the number of stack items onto the stack.","",h)):"75"==e?n.push(new s(e,"DROP","# Removes the top stack item.","",h)):"76"==e?n.push(new s(e,"DUP","# Duplicates the top stack item.","",h)):"77"==e?n.push(new s(e,"NIP","# Removes the second-to-top stack item.","",h)):"78"==e?n.push(new s(e,"OVER","# Copies the second-to-top stack item to the top.","",h)):"79"==e?n.push(new s(e,"PICK","# The item n back in the stack is copied to the top.","",h)):"7a"==e?n.push(new s(e,"ROLL","# The item n back in the stack is moved to the top.","",h)):"7b"==e?n.push(new s(e,"ROT","# The top three items on the stack are rotated to the left.","",h)):"7c"==e?n.push(new s(e,"SWAP","# The top two items on the stack are swapped.","",h)):"7d"==e?n.push(new s(e,"TUCK","# The item at the top of the stack is copied and inserted before the second-to-top item.","",h)):"7e"==e?n.push(new s(e,"CAT","# Concatenates two strings.","",h)):"7f"==e?n.push(new s(e,"SUBSTR","# Returns a section of a string.","",h)):"80"==e?n.push(new s(e,"LEFT","# Keeps only characters left of the specified point in a string.","",h)):"81"==e?n.push(new s(e,"RIGHT","# Keeps only characters right of the specified point in a string.","",h)):"82"==e?n.push(new s(e,"SIZE","# Returns the length of the input string.","",h)):"83"==e?n.push(new s(e,"INVERT","# Flips all of the bits in the input.","",h)):"84"==e?n.push(new s(e,"AND","# Boolean and between each bit in the inputs.","",h)):"85"==e?n.push(new s(e,"OR","# Boolean or between each bit in the inputs.","",h)):"86"==e?n.push(new s(e,"XOR","# Boolean exclusive or between each bit in the inputs.","",h)):"87"==e?n.push(new s(e,"EQUAL","# Returns 1 if the inputs are exactly equal, 0 otherwise.","",h)):"8b"==e?n.push(new s(e,"INC","# 1 is added to the input.","",h)):"8c"==e?n.push(new s(e,"DEC","# 1 is subtracted from the input.","",h)):"8d"==e?n.push(new s(e,"SIGN","#","",h)):"8f"==e?n.push(new s(e,"NEGATE","# The sign of the input is flipped.","",h)):"90"==e?n.push(new s(e,"ABS","# The input is made positive.","",h)):"91"==e?n.push(new s(e,"NOT","# If the input is 0 or 1, it is flipped. Otherwise the output will be 0.","",h)):"92"==e?n.push(new s(e,"NZ","# Returns 0 if the input is 0. 1 otherwise.","",h)):"93"==e?n.push(new s(e,"ADD","# a is added to b.","",h)):"94"==e?n.push(new s(e,"SUB","# b is subtracted from a.","",h)):"95"==e?n.push(new s(e,"MUL","# a is multiplied by b.","",h)):"96"==e?n.push(new s(e,"DIV","# a is divided by b.","",h)):"97"==e?n.push(new s(e,"MOD","# Returns the remainder after dividing a by b.","",h)):"98"==e?n.push(new s(e,"SHL","# Shifts a left b bits, preserving sign.","",h)):"99"==e?n.push(new s(e,"SHR","# Shifts a right b bits, preserving sign.","",h)):"9a"==e?n.push(new s(e,"BOOLAND","# If both a and b are not 0, the output is 1. Otherwise 0.","",h)):"9b"==e?n.push(new s(e,"BOOLOR","# If a or b is not 0, the output is 1. Otherwise 0.","",h)):"9c"==e?n.push(new s(e,"NUMEQUAL","# Returns 1 if the numbers are equal, 0 otherwise.","",h)):"9e"==e?n.push(new s(e,"NUMNOTEQUAL","# Returns 1 if the numbers are not equal, 0 otherwise.","",h)):"9f"==e?n.push(new s(e,"LT","# Returns 1 if a is less than b, 0 otherwise.","",h)):"a0"==e?n.push(new s(e,"GT","# Returns 1 if a is greater than b, 0 otherwise.","",h)):"a1"==e?n.push(new s(e,"LTE","# Returns 1 if a is less than or equal to b, 0 otherwise.","",h)):"a2"==e?n.push(new s(e,"GTE","# Returns 1 if a is greater than or equal to b, 0 otherwise.","",h)):"a3"==e?n.push(new s(e,"MIN","# Returns the smaller of a and b.","",h)):"a4"==e?n.push(new s(e,"MAX","# Returns the larger of a and b.","",h)):"a5"==e?n.push(new s(e,"WITHIN","# Returns 1 if x is within the specified range (left-inclusive), 0 otherwise.","",h)):"a7"==e?n.push(new s(e,"SHA1","# The input is hashed using SHA-1.","",h)):"a8"==e?n.push(new s(e,"SHA256","# The input is hashed using SHA-256.","",h)):"a9"==e?n.push(new s(e,"HASH160","# The input is hashed using HASH160.","",h)):"aa"==e?n.push(new s(e,"HASH256","# The input is hashed using HASH256.","",h)):"ac"==e?n.push(new s(e,"CHECKSIG","#","",h)):"ae"==e?n.push(new s(e,"CHECKMULTISIG","#","",h)):"c0"==e?n.push(new s(e,"ARRAYSIZE","#","",h)):"c1"==e?n.push(new s(e,"PACK","#","",h)):"c2"==e?n.push(new s(e,"UNPACK","#","",h)):"c3"==e?n.push(new s(e,"PICKITEM","#","",h)):"c4"==e?n.push(new s(e,"SETITEM","#","",h)):"c5"==e?n.push(new s(e,"NEWARRAY","#","",h)):"c6"==e?n.push(new s(e,"NEWSTRUCT","#","",h)):"c8"==e?n.push(new s(e,"APPEND","#","",h)):"c9"==e?n.push(new s(e,"REVERSE","#","",h)):"ca"==e?n.push(new s(e,"REMOVE","#","",h)):"f0"==e?n.push(new s(e,"THROW","#","",h)):"f1"==e?n.push(new s(e,"THROWIFNOT","#","",h)):n.push(new s(e,"???","#","",h));return t},e.exports={AvmOptimizer:n,NeoOpcode:s}}()}])});